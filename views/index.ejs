<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>
            <%= title %>
        </title>
        <link rel="icon" type="image/svg+xml" href="/favicon.svg">
        <link rel="stylesheet" href="/styles.css">
    </head>

    <body>
        <div class="container">
            <%- include('partials/header') %>

                <main>
                    <div class="welcome-banner">
                        <div class="banner-content">
                            <div>
                                <h2>ğŸ“¬ Recent Messages</h2>
                                <p>See what everyone's been saying!</p>
                            </div>
                            <a href="/new" class="btn-new-message">
                                <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M12 5v14M5 12h14"></path>
                                </svg>
                                New Message
                            </a>
                        </div>
                    </div>

                    <div class="messages">
                        <% messages.forEach((msg, index)=> { %>
                            <div class="message-card">
                                <div class="message-header">
                                    <div class="avatar">
                                        <%= msg.user.charAt(0).toUpperCase() %>
                                    </div>
                                    <div class="user-info">
                                        <h3 class="username">
                                            <%= msg.user %>
                                        </h3>
                                        <time class="timestamp">
                                            <%= new Date(msg.added).toLocaleDateString('en-US', { month: 'short' ,
                                                day: 'numeric' , year: 'numeric' , hour: '2-digit' , minute: '2-digit'
                                                }) %>
                                        </time>
                                    </div>
                                </div>
                                <div class="message-content">
                                    <p>
                                        <%= msg.text %>
                                    </p>
                                </div>
                                <div class="message-footer">
                                    <a href="/messages/<%= index %>" class="btn-open">
                                        <svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2">
                                            <path d="M9 18l6-6-6-6"></path>
                                        </svg>
                                        View Details
                                    </a>
                                </div>
                            </div>
                            <% }) %>
                    </div>
                </main>

                <%- include('partials/footer') %>
        </div>
    </body>

</html>